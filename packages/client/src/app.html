<!doctype html>
<html lang="%lang%">
    <head>
        <meta charset="utf-8" />
        <link rel="icon" href="%sveltekit.assets%/favicon.ico" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Fira+Mono:wght@400;500;700&family=Space+Grotesk:wght@300..700&display=swap"
            rel="stylesheet"
            rel="preload"
            as="style"
        />
        <link
            rel="preload"
            fetchpriority="high"
            as="image"
            href="bm-highres.webp"
            type="image/webp"
        />
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Blue Marble — official</title>
        <meta name="description" content="Official Blue Marble project — interactive website and resources." />
        <meta name="author" content="Blue Marble / crqch" />
        <meta name="keywords" content="Blue Marble, mapping, svelte, open source" />
        <link rel="canonical" href="https://bluemarble.lol/" />
        <meta name="robots" content="index, follow" />

        <!-- <script>
    (function () {
      const saved = localStorage.getItem('theme');
      const theme = saved || 'light';

      // Create a style element to disable transitions temporarily
      const style = document.createElement('style');
      style.textContent = `
      *, *::before, *::after {
        transition-duration: 0s !important;
        animation-duration: 0s !important;
      }
    `;
      document.head.appendChild(style);

      const setTheme = () => {
        document.body.setAttribute('data-theme', theme);

        // Re-enable transitions after theme is applied
        requestAnimationFrame(() => {
          requestAnimationFrame(() => {
            document.head.removeChild(style);
          });
        });
      };

      if (document.body) {
        setTheme();
      } else {
        document.addEventListener('DOMContentLoaded', setTheme);
      }
    })();
  </script> -->

        %sveltekit.head%
    </head>

    <body data-theme="dark" data-sveltekit-preload-data="hover">
        <div style="display: contents">%sveltekit.body%</div>
        <!-- Cloudflare Web Analytics -->
        <script
            defer
            src="https://static.cloudflareinsights.com/beacon.min.js"
            data-cf-beacon='{"token": "ec4e61e975e044d3a3f06006172f90c6"}'
        ></script>
        <!-- End Cloudflare Web Analytics -->
    </body>
</html>
